# 类

## 空类的大小

---

在 C++ 中，如果类为空，那么其内存大小为 1。这是因为即使类中没有内容，但它仍需要一块内存来表示类的存在，因此空类的大小为 1 字节。

## 析构函数

---

析构函数用于在结束程序（比如关闭文件、释放内存等）之前释放资源，且不能继承或重载。

析构函数可以使用 virtual 关键字。当派生类实现了析构函数后，会覆盖掉基类的析构函数，所以必须要为基类的析构函数加上 virtual。这其实和初始化派生类时需要先调用基类的构造函数是一个道理，当派生类调用完析构函数后，会自动再去调用父类的虚析构函数。

## 静态成员

---

### 类静态成员

使用 static 关键字可以把类成员定义为静态。当把一个类成员声明为静态时，无论创建多少个类对象，都只有一个该静态成员的副本。类的静态数据成员和方法存在于任何对象之外，不和任何对象绑定在一起。类的静态成员方法不包含 this 指针，因此无法调用类中的非静态数据成员和方法。如果你一定要调用，那么必须传入一个类对象。

### 类静态成员初始化

静态数据成员和方法无需实例化便可直接调用。由于类静态数据成员不属于任何一个类的实例，因此它的初始化必须要放在类体外，类中只能够对静态数据成员进行声明，初始化格式为 `<数据类型><类名>::<静态数据成员名>=<值>`（可以对私有和保护级静态成员初始化）。类静态成员方法可以在类中实现，也可以在类体外实现。当在类体外定义类成员或方法时，不能够使用 static 关键字，该关键字只能用在类内部的声明语句。

通常情况下，类静态数据成员不能够在类中初始化，但是如果静态成员为字面值常量类型（constexpr），那么用常量表达式为其赋值。

### 静态成员派生

静态成员同样受访问权限限制（private）。父类的静态方法和数据成员可以被派生类使用，但是二者的静态数据成员使用的是共同空间，这一点要注意。