# 分治

分治算法是一种算法思想，对于那些需要求出各种可能的问题，可以将它们拆分为一个个小问题。

## 获取所有可能的组合

---

### 241. 为运算表达式设计优先级

**题目**

给定一个含有数字和运算符的字符串，为表达式添加括号，改变其运算优先级以求出不同的结果。你需要给出所有可能的组合的结果。有效的运算符号包含 +, - 以及 * 。

**解答**

采用分治算法的思想，对每一个运算符都视为 `左集合 运算符 右集合` 的形式。另外，当集合中只剩下数字时，可以直接将其转换成整数然后压入 vector。

```cpp
class Solution {
public:
    vector<int> diffWaysToCompute(string input) {
        vector<int> num;
        
        // 遍历字符串中的每个字符
        for (int i = 0; i < input.size(); i++) {
            char ch = input[i];
            
            // 当前字符为运算符时，将整个字符串拆分为左右集合，然后分别对左右集合进行递归调用
            if (ch == '+' || ch == '-' || ch == '*') {
                auto num1 = diffWaysToCompute(input.substr(0, i));
                auto num2 = diffWaysToCompute(input.substr(i + 1));
                
                // 左右集合的各种可能计算完毕，将它们按照运算符进行计算
                for (int n1 : num1) {
                    for (int n2 : num2) {
                        if (ch == '+') {
                            num.push_back(n1 + n2);
                        }
                        
                        if (ch == '-') {
                            num.push_back(n1 - n2);
                        }
                        
                        if (ch == '*') {
                            num.push_back(n1 * n2);
                        }
                    }
                }
            }
        }
        
        // 如果字符串遍历完一遍后，num为空，那么证明这个字符串只有数字
        if (num.empty()) {
            num.push_back(stoi(input));
        }
        
        return num;
    }
};
```