# 光照基础

这一部分我将简要的介绍一下 Unity 中的光照系统。

## 游戏中的光照

---

游戏中最常见的就是 Globa Illumination（全局光照），它主要用来模拟光的互动和反弹等复杂行为，包含直接光、间接光、环境光以及反射光。通过全局光照渲染出来的场景将具备更丰富的光照效果，使得游戏看起来更偏向真实。举个例子，当一个物体在被光线照射到时，通常会向外反射一部分光，而这部分反射光又有可能会照射到另一个物体，使得光照之间相互混合，形成复杂的光照效果。

在现实生活中，光线的反射和折射远比上面所说的要复杂，如果我们想要在游戏中也做到实时光照的话，那么对于机器的配置将会有非常的要求。为了减轻机器的压力，我们通常的做法是预先将光照信息烘焙成一张光照贴图（Litmap），然后在游戏的运行过程中直接加载贴图。这种做法虽然大大减轻了游戏的配置要求，但是烘焙出来的贴图是无法在游戏过程中变更的，因此它们被设定为静态（Static）。虽说我们依旧可以在贴图上叠加光照计算，但是二者之间已经是无法交互了。

?> 关于光照的内容其实还有很多，基础篇部分就不再展开讲了。

## Unity中的光照

---

### Light组件

直接光照即从光源直接发出的光，在 Unity 中通过 Light 组件实现。一共有四种类型：

* Spot：聚光灯，效果类似于手电筒和舞台上的灯光。
* Directional：方向光，平行发射光纤，可以照射场景中的所有物体，效果类似于太阳光。
* Point：点光源，以自身为中心向四周发射光线，效果类似于电灯。
* Area：区域光，由一个面向一个方向发射光线，必须要经过烘焙后才能看到效果。

光照的参数设置各有不同，这里只说说常用的几个：

* Mode：光照模式，有 RealTime（实时）、Mixed（混合）、Baked（烘焙） 三种。
* Intensity：光照强度。
* Indirect Multiplier：间接光的影响倍数。
* Shadow Type：阴影类型，有 No Shadows、Hard Shadows、Soft Shadows 三种。软阴影效果要好一些，但是更消耗性能。
* Culling Mask：剔除遮罩，和相机类似，用于设置哪些物体受光照影响。

除开直接对 Light 组件进行设置，某些物体上也可以设置光照的效果（例如物体的 Mesh Renderer 组件）。