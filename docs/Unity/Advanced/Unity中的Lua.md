# Unity中的Lua

Lua 做为一门解释型语言，经常用于各类游戏开发之中。那么，在 Unity 中，我们为什么要使用 Lua，又该如何去使用呢？

## 为什么要使用解释型语言

---

一提到游戏开发所用的语言，我们想到的可能就是 C++、C# 这类高级语言。这些语言虽然功能强大，但其实很难满足游戏行业内不断变化的需求。试想一下，如果游戏需要有一个重大的更新，那么我们就必须重新把项目编译一遍，之后再打包上传至服务器。这一过程对于开发者来说没什么，但对于玩家而言，如果每次更新都需要重新下载安装包的话，绝对会让玩家给游戏打上差评。

就目前而言，游戏业内普遍采用的做法是把底层逻辑交给 C++、C# 等高级语言，然后把上层逻辑交给解释型语言。打个比方，游戏内的战斗逻辑一般是不会改变的，那么这一部分就可以用 C# 实现，提高游戏的效率，而对于游戏中常常变动的 UI、活动等部分，就可以交给更灵活的解释型语言。不过呢，不同的公司有不同的做法，有的公司喜欢全部用 C# 写，尽量做到高度可配置，然后采取上传 DLL 文件进行替换更新的方法来修复 BUG，而有的公司则全部都用 Lua 来编写代码，做到全面的热更新。孰优孰劣，都是看各自的需求罢了，并没有一种绝对的方案。

不过遗憾的是，哪怕安卓平台上可以下载脚本进行替换，但 IOS 平台是绝对不可以的。所以，开发者只能够上传完整的安装包或者用 Lua 来进行更新。

## 什么是Lua

---

简单的说一下，Lua 在开发之初就是为了嵌入应用程序中，为程序提供高可扩展性。Lua 由 C 编写，其本身极为小巧轻便，效率在各类脚本语言中也属于前列。除此之外，Lua 也支持面向对象和函数式编程，其提供的 table 表十分强大，可以实现各类功能。更重要的是，Lua 与其他语言可以很快的结合起来，这也是为什么要选择用 Lua 来作为热更新的脚本语言。